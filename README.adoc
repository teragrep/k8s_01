# k8s_01

A container that will read mounted container logfiles, then enriches them using Kubernetes API server, and forwards them with RELP to wanted target server.

## Example Helm Chart usage

Edit wanted namespace in `values.yaml`, then run `helm install kubelogreader .` to create and deploy an example instance. It uses `etc/config.json` and default `src/main/resources/log4j2.xml` for configurations and persistent volumeclaim for statestore.

## Overriding configurations with environment variables

Currently supported:

 - `K8S_01_RELP_TARGET` overwrites `.relp.target` from config.json

 - `K8S_01_RELP_PORT` overwrites `.relp.port` from config.json

 - `K8S_01_KUBERNETES_URL` overwrites `.kubernetes.url` from config.json

## Example test cluster usage

You can find example cluster in `/example` directory
